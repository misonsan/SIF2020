<p>cassapop works!</p>

<div class="modal-header " [style.background]="fase === 'M' ? 'red' : 'green'" [style.color]="fase === 'M' ? 'white' : 'yellow'">   
    <div class="col-sm-3">
      <img src="assets/images/logoSanfra.png" width="40" height="40" alt="logo">
    </div>
    <h4 class="modal-title" id="modal-basic-title">{{title}} &nbsp; {{cassaw.dtGiornata | date:'dd/MM/yyyy'}}</h4>
  <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">

   <form   [formGroup]="editForm" (ngSubmit)="onSubmit()" *ngIf="editForm" >   

        <!-- Chiave del record -->
        <input hidden type="text" formControlName="id" class="form-control" />
    
      
        <div class="row">

            <table class="table table-striped table-sm shadow-lg p-3 mb-5 bg-white">
            <tr>
                <th> Pezzatura</th>
                <th  colspan="2" class="alignheader">{{tipoCassa}}</th>
 
            </tr>
            <tr>
                <th> </th>
                <th > Qta</th><th>valore</th>
            </tr>
            <tr>
                <!-- banconota 100 -->
                <td> <label>  € 100 </label></td>
                <td><input required   formControlName="i100" class="form-control num "  name="i100" id="i100" on-focusout="focusOutFunction('i100', $event)"  >
               <!--   <div *ngIf="editFormData.icontante.dirty && editFormData.icontante.touched && editFormData.icontante.invalid"  class="alert alert-danger">
                    <div  *ngIf="editFormData.icontante.errors.required">
                    inserire le monete - campo Obbligatorio
                    </div>
                    <div *ngIf="editFormData.icontante.errors?.pattern">
                     non posso inserire lettere   {{postimax.errors.pattern.requiredPattern }}   
                    importo monete non valido
                    </div>
                  </div>   -->
                
                </td>
                <td><input   disabled formControlName="i100Valore" class="form-control  num valore"  name="i100Valore" id="i100Valore" ></td>
            </tr>
            <tr>
                <td> <label>  €  50 </label></td>
                <td><input required  pattern="[0-9]{2,3}" formControlName="i050" class="form-control num"  name="i050" id="i050"   on-focusout="focusOutFunction('i050', $event)"  ></td>
                <td><input   disabled formControlName="i050Valore" class="form-control  num valore "  name="i050Valore" id="i050Valore" ></td>
            </tr>
            <tr>
              <td> <label>  €  20 </label></td>
              <td><input required  pattern="[0-9]{2,3}" formControlName="i020" class="form-control num "  name="i020" id="i020"  on-focusout="focusOutFunction('i020', $event)"   ></td>
              <td><input   disabled formControlName="i020Valore" class="form-control  num valore"  name="i020Valore" id="i020Valore" ></td>
            </tr>
            <tr>
              <td> <label>  €  10 </label></td>
              <td><input required  pattern="[0-9]{2,3}" formControlName="i010" class="form-control num "  name="i010" id="i010"  on-focusout="focusOutFunction('i010', $event)"   ></td>
              <td><input   disabled formControlName="i010Valore" class="form-control  num valore"  name="i010Valore" id="i010Valore" ></td>  
            </tr>
            <tr>
              <td> <label>  €   5 </label></td>
              <td><input required  pattern="[0-9]{2,3}" formControlName="i005" class="form-control num "  name="i005" id="i005"  on-focusout="focusOutFunction('i005', $event)" [(ngModel)]="cassaw.i005"  ></td>
              <td><input   disabled formControlName="i005Valore" class="form-control  num valore"  name="i005Valore" id="i005Valore" ></td>    
            </tr>
            <tr>
              <td> <label> Moneta </label></td>
              <td><input  type="text" required  pattern="[0-9]{2,3}" formControlName="monete" class="form-control num "  name="monete" id="monete" on-focusout="focusOutFunction('monete', $event)"  > <!-- pattern="[0-9]{2,3}"-->
             <!--
                <div *ngIf="editFormData.icontante.dirty && editFormData.icontante.touched && editFormData.icontante.invalid"  class="alert alert-danger">
                  <div  *ngIf="editFormData.icontante.errors.required">
                  inserire le monete - campo Obbligatorio
                  </div>
                  <div *ngIf="editFormData.icontante.errors?.pattern">
                  <-- non posso inserire lettere   {{postimax.errors.pattern.requiredPattern }}    
                  importo monete non valido
                  </div>
                </div>   -->
              </td>   
            </tr>
  
        <br>
  
            <tr>
                <td> <label> Totale</label></td>
                <td> </td>
                <td><input  disabled formControlName="totale" class="form-control num valoreTotale"  name="totale" id="totale"></td>
            </tr>   
            </table>    
        </div>




<!--   fine dei campi con pezzature -->
           <!--
           <div class="form-group">
              <input type="date" name="dateofbirth1" id="dateofbirth1">
           </div>   -->
 
           <div class="row col-md-12">
            <!-- messaggi -->
            <div *ngIf="!alertSuccess && isVisible" class="alert alert-danger" role="alert">
              <!--   <h4 class="alert-heading">Errore in elenco</h4>    -->
                 <p>{{Message}}</p>
                 <hr>
               </div>
               <div *ngIf="alertSuccess && isVisible" class="alert alert-success" role="alert">
               <!--   <h4 class="alert-heading">Modifca Password</h4>    -->
                 <p>{{Message}}</p>
               </div>
           </div>
 
  </form>
</div> 

<div class="modal-footer">
 
    <button [disabled]="isLoading" class="btn btn-secondary mr-2" (click)="modal.dismiss('Cross click')">Cancel
      <fa-icon [icon]="faWindowClose"  fixed="true"></fa-icon>
    </button>   
    <button [disabled]="enabledSalva === false" class="btn btn-primary mr-2" (click)="openModal2(templateConfirmCassa)" >Salva    <!-- onSubmit()   openModal2(templateConfirmCassa)   -->
      <fa-icon [icon]="faSave"  fixed="true"></fa-icon>
    </button>  
    <button [hidden]="fase === 'I' || fieldVisible === false" class="btn btn-danger mr-2" (click)="openModal2(templateConfirmCassa)" >Cancella
      <fa-icon [icon]="faTrash"  fixed="true"></fa-icon>
    </button> 
</div>  




<ng-template #templateConfirmCassa>
  <div class="modal-header headerGreen">
    <h4 class="modal-title pull-left">Registrazione Cassa</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef2.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    confermi la registrazione della Cassa ?<br />
  </div>
    <div class="modal-footer">
     <button type="button" class="btn btn-secondary" (click)="closeModal(2)">Annulla
      <fa-icon [icon]="faWindowClose"  fixed="true"></fa-icon>
     </button>
    <button type="button" class="btn btn-danger" (click)="closeModal(3)">Conferma
      <fa-icon [icon]="faSave"  fixed="true"></fa-icon>
    </button>
  </div>
</ng-template>     


